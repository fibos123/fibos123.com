<main role="main">
  <div class="album py-5 bg-light">
    <div id="content" class="container">
    	
		<h3>出块节点在线状态</h3>
		<div ng-if="bp_status">
		最新区块：{{ bp_status.head_block_num | number }}<br/>
		状态更新时间：{{ bp_status.bp_status_refresh_time | date : "yyyy-MM-dd HH:mm:ss.sss Z" }}
	</div>
		<table ng-if="bp_status_rows" class="table table-bordered table-hover table-sm table-striped">
			<tr><th width="50" align="center">排名</th><th>节点账户</th><th>状态</th></tr>
			<tr ng-repeat="(key, value) in bp_status_rows"><td align="center">{{ $index + 1 }}</td><td>{{ key }}</td><td class="{{ value }}">{{ value }}</td></tr>
		</table>
		<div ng-if="!bp_status">获取中...</div>

		<h3>出块节点在线状态变更记录</h3>
		<div ng-if="bp_status_change_logs">
			记录开始时间：{{ bp_status_change_logs.log_birthtime | date : "yyyy-MM-dd HH:mm:ss.sss Z" }} <br>
			记录更新时间：{{ bp_status_change_logs.now_time | date : "yyyy-MM-dd HH:mm:ss.sss Z" }}
		</div>
		<table ng-if="bp_status_change_logs_rows" class="table table-bordered table-hover table-sm table-striped" >
			<tr><th width="50" align="center">编号</th><th>时间</th><th>节点账户</th><th>旧状态</th><th>新状态</th></tr>
			<tr ng-repeat="(key, value) in bp_status_change_logs_rows">
				<td align="center">{{ $index + 1 }}</td>
				<td>{{ value.date | date : "yyyy-MM-dd HH:mm:ss Z" }}</td>
				<td>{{ value.bp }}</td>
				<td class="{{ value.from }}">{{ value.from }}</td>
				<td class="{{ value.to }}">{{ value.to }}</td>
			</tr>
		</table>
		<div ng-if="!bp_status_change_logs">获取中...</div>

		<a href="https://api.fibos123.com/" target="_blank">查看 API</a>
	</div>
  </div>
</main>